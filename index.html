<html>

<head>

  <link href="css/wodry.css" media="all" rel="stylesheet" type="text/css">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="dist/wodry.js"></script>
  <script>
    $(document).ready(function() {

     function animateHeaderText() {

       var animationDelay = 8000;
       var animationDuration = 1000;
       var loopInterval = 0;
       var staggerInterval = ((animationDelay + animationDuration) / 3) + loopInterval;
       var fontUsed = 'bold 1.17em Times New Roman';
       var spanWidthAdjust = 1.8;

       function getTextWidth(text, font) {
            var canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement("canvas"));
            var context = canvas.getContext("2d");
            context.font = font;
            var metrics = context.measureText(text);
            return metrics.width;
        }

        $(".flip-this").each(function (i) {
          var $item = $(this);

          var longest_word = $item.text().split("|").sort(function(a, b) {
            return b.length - a.length;
          })[0];

          var spanWidth = getTextWidth(longest_word, fontUsed) * spanWidthAdjust;
          var $itemSibling =  $item.siblings(".flip-this-default");
          $itemSibling.css({"width": spanWidth + "px"}).text(longest_word);
          $item.css("display", "none");

          setTimeout(function() {
            $item.attr("style","");
            $itemSibling.remove();
            $item.wodry_wikirate({
              animation: 'rotateX',
              delay: animationDelay,
              animationDuration: animationDuration,
              fontUsed: fontUsed
            });
          }, staggerInterval * i);
        });
     }



     animateHeaderText();

    })
  </script>

</head>

<body style="text-align: center; margin: 100px;"
<div class="pt-5 mt-5">
  <h3 class="white-text font-weight-normal">
<span>
How does
</span>
<span class="font-weight-bold dotted-bottom-border ">
<span class="flip-this-default"></span>
<span class="flip-this">
Apple|L'Oreal|Nestl√©|Google
</span>
</span>
<span>
perform on
</span>
<span class="font-weight-bold dotted-bottom-border ">
<span class="flip-this-default"></span>
<span class="flip-this">
SDG5: Gender Equality|Corporate Governance|Political Accountability|Water Management
</span>
</span>
<span>
?
</span>
</h3>
  <h3 class="white-text font-weight-normal">
<span>
To know and act, you need
</span>
<span class="font-weight-bold dotted-bottom-border ">
<span class="flip-this-default"></span>
<span class="flip-this">
structured|open|deep|engaging|verifiable|comparable|navigable|integrated
</span>
</span>
<span>
data.
</span>
</h3>
</div>

</html>
